---

title: Pandas


keywords: fastai
sidebar: home_sidebar

summary: "Utilities for pandas"
description: "Utilities for pandas"
nb_path: "02_pandas.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_pandas.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="DataFrame-methods"><code>DataFrame</code> methods<a class="anchor-link" href="#DataFrame-methods"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="ends"><a href="/dessiccate/pandas.html#ends"><code>ends</code></a><a class="anchor-link" href="#ends"> </a></h3><p>This function shows combines the <code>.head()</code> and <code>.tail()</code> method of the <code>pd.DataFrame</code>.</p>
<p>Options:</p>
<ul>
<li><code>n</code>: number of rows to show for the head and tail. The resulting df will have 2*n rows, unless the df has &lt;2*n rows.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ends" class="doc_header"><code>ends</code><a href="https://github.com/mgfrantz/dessiccate/tree/master/dessiccate/pandas.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ends</code>(<strong><code>n</code></strong>:<code>int</code>=<em><code>3</code></em>)</p>
</blockquote>
<p>Combines the .head and .tail methods to show both ends
of a pd.DataFrame.</p>
<p>Options:</p>
<ul>
<li>n: number of rows to show for the head and tail. The resulting
   DataFrame will have 2<em>n rows, unless the df has &lt;2</em>n rows.</li>
</ul>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.007753</td>
      <td>0.019556</td>
      <td>0.228568</td>
      <td>0.733227</td>
      <td>0.971570</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.881625</td>
      <td>0.630953</td>
      <td>0.553137</td>
      <td>0.998656</td>
      <td>0.867941</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.065172</td>
      <td>0.997073</td>
      <td>0.651824</td>
      <td>0.993076</td>
      <td>0.677535</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.047016</td>
      <td>0.915512</td>
      <td>0.976585</td>
      <td>0.317625</td>
      <td>0.961146</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.121723</td>
      <td>0.565807</td>
      <td>0.339233</td>
      <td>0.649174</td>
      <td>0.489531</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>15</th>
      <td>0.503663</td>
      <td>0.511829</td>
      <td>0.244935</td>
      <td>0.091605</td>
      <td>0.661425</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0.222074</td>
      <td>0.410225</td>
      <td>0.165857</td>
      <td>0.815235</td>
      <td>0.628469</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0.750615</td>
      <td>0.225050</td>
      <td>0.387448</td>
      <td>0.238739</td>
      <td>0.766079</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0.385610</td>
      <td>0.345542</td>
      <td>0.064823</td>
      <td>0.178021</td>
      <td>0.530253</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0.857105</td>
      <td>0.884259</td>
      <td>0.249529</td>
      <td>0.775519</td>
      <td>0.727644</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">ends</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.007753</td>
      <td>0.019556</td>
      <td>0.228568</td>
      <td>0.733227</td>
      <td>0.971570</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.881625</td>
      <td>0.630953</td>
      <td>0.553137</td>
      <td>0.998656</td>
      <td>0.867941</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.065172</td>
      <td>0.997073</td>
      <td>0.651824</td>
      <td>0.993076</td>
      <td>0.677535</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0.750615</td>
      <td>0.225050</td>
      <td>0.387448</td>
      <td>0.238739</td>
      <td>0.766079</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0.385610</td>
      <td>0.345542</td>
      <td>0.064823</td>
      <td>0.178021</td>
      <td>0.530253</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0.857105</td>
      <td>0.884259</td>
      <td>0.249529</td>
      <td>0.775519</td>
      <td>0.727644</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="group_by_summary"><a href="/dessiccate/pandas.html#group_by_summary"><code>group_by_summary</code></a><a class="anchor-link" href="#group_by_summary"> </a></h3><p>This method returns a df with the mean, median, sem, std, and count of each column.</p>
<p>Options:</p>
<ul>
<li><code>by</code>: Colums to group by. These will be the index of the df returned.</li>
<li><code>filter_cols</code>: if <code>None</code>, will use all the columns. Otherwise, pass column name or list of column names.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="group_by_summary" class="doc_header"><code>group_by_summary</code><a href="https://github.com/mgfrantz/dessiccate/tree/master/dessiccate/pandas.py#L26" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>group_by_summary</code>(<strong><code>by</code></strong>:<code>Union</code>[<code>AnyStr</code>, <code>List</code>[<code>T</code>]], <strong><code>filter_cols</code></strong>:<code>Union</code>[<code>NoneType</code>, <code>List</code>[<code>str</code>]]=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;cat_col&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">group_by_summary</span><span class="p">(</span><span class="s1">&#39;cat_col&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="5" halign="left">0</th>
      <th colspan="5" halign="left">1</th>
      <th>...</th>
      <th colspan="5" halign="left">3</th>
      <th colspan="5" halign="left">4</th>
    </tr>
    <tr>
      <th></th>
      <th>mean</th>
      <th>median</th>
      <th>sem</th>
      <th>std</th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sem</th>
      <th>std</th>
      <th>count</th>
      <th>...</th>
      <th>mean</th>
      <th>median</th>
      <th>sem</th>
      <th>std</th>
      <th>count</th>
      <th>mean</th>
      <th>median</th>
      <th>sem</th>
      <th>std</th>
      <th>count</th>
    </tr>
    <tr>
      <th>cat_col</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>False</th>
      <td>0.241702</td>
      <td>0.232908</td>
      <td>0.043469</td>
      <td>0.168355</td>
      <td>15</td>
      <td>0.453094</td>
      <td>0.410225</td>
      <td>0.071444</td>
      <td>0.276701</td>
      <td>15</td>
      <td>...</td>
      <td>0.535455</td>
      <td>0.501178</td>
      <td>0.064498</td>
      <td>0.249799</td>
      <td>15</td>
      <td>0.544569</td>
      <td>0.530253</td>
      <td>0.076342</td>
      <td>0.295673</td>
      <td>15</td>
    </tr>
    <tr>
      <th>True</th>
      <td>0.783391</td>
      <td>0.857105</td>
      <td>0.075552</td>
      <td>0.168939</td>
      <td>5</td>
      <td>0.462992</td>
      <td>0.511829</td>
      <td>0.145735</td>
      <td>0.325874</td>
      <td>5</td>
      <td>...</td>
      <td>0.479746</td>
      <td>0.294213</td>
      <td>0.173192</td>
      <td>0.387269</td>
      <td>5</td>
      <td>0.674204</td>
      <td>0.727644</td>
      <td>0.088161</td>
      <td>0.197134</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 25 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">group_by_summary</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;cat_col&#39;</span><span class="p">,</span> <span class="n">filter_cols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>median</th>
      <th>sem</th>
      <th>std</th>
      <th>count</th>
    </tr>
    <tr>
      <th>cat_col</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>False</th>
      <td>0.453094</td>
      <td>0.410225</td>
      <td>0.071444</td>
      <td>0.276701</td>
      <td>15</td>
    </tr>
    <tr>
      <th>True</th>
      <td>0.462992</td>
      <td>0.511829</td>
      <td>0.145735</td>
      <td>0.325874</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">group_by_summary</span><span class="p">([</span><span class="s1">&#39;cat_col&#39;</span><span class="p">],</span> <span class="n">filter_cols</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean</th>
      <th>median</th>
      <th>sem</th>
      <th>std</th>
      <th>count</th>
    </tr>
    <tr>
      <th>cat_col</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>False</th>
      <td>0.453094</td>
      <td>0.410225</td>
      <td>0.071444</td>
      <td>0.276701</td>
      <td>15</td>
    </tr>
    <tr>
      <th>True</th>
      <td>0.462992</td>
      <td>0.511829</td>
      <td>0.145735</td>
      <td>0.325874</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="datetime_from_timestamp">datetime_from_timestamp<a class="anchor-link" href="#datetime_from_timestamp"> </a></h3><p>Converts a pd.Series of integer timestamps to datetime format.</p>
<p>Options:</p>
<ul>
<li><code>s</code>: pd.Series of timestamps</li>
<li><code>ts_type</code>: type of timestamp. <ul>
<li><code>ms</code>: default, milliseconds</li>
<li><code>ns</code>: nanoseconds</li>
<li><code>s</code>: seconds</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="datetime_from_timestamp" class="doc_header"><code>datetime_from_timestamp</code><a href="https://github.com/mgfrantz/dessiccate/tree/master/dessiccate/pandas.py#L36" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>datetime_from_timestamp</code>(<strong><code>s</code></strong>:<code>Series</code>, <strong><code>ts_type</code></strong>:<code>str</code>=<em><code>'ms'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">datetime_from_timestamp</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1627417286117</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0   2021-07-27 13:21:26.117
dtype: datetime64[ns]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

